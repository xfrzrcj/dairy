# 乐观锁悲观锁

## 乐观锁
### 定义：
假定最好的情况，认为在读取数据期间，数据不会被改动，所以不上锁，但在更新时会检查数据是被人更新过，可以使用版本号和CAS算法实现。
### CAS算法
即compare and swap(比较与交换)，著名的无锁算法。涉及3个操作：
* 需要读写的内存值V
* 进行比较值A
* 拟写入值B
当且仅当A和V相等时

## 悲观锁
定义：假设最坏的情况，认为拿数据时其他人会修改，所以拿数据时会上锁，这样别人拿数据时就需要等待直到释放锁。传统关系型数据库也用到很多悲观锁的机制，如表锁，行锁，读锁，写锁。java中synchronized和ReentrantLock等独占锁就是悲观锁的思想体现。
